# docker-compose.build.yml
# Use this for LOCAL development and testing
# Build image from Dockerfile locally

services:
  desktop-workspace:
    build: .
    image: desktop-workspace:latest
    container_name: desktop-workspace
    hostname: desktop-workspace
    security_opt:
      - seccomp:unconfined
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Europe/Istanbul
      - TITLE=Desktop Workspace
      - CUSTOM_USER=${CUSTOM_USER:?User must be defined}
      - PASSWORD=${PASSWORD:?Password must be defined}
    volumes:
      - /datapool/config/desktop:/config
      - /datapool:/datapool
    ports:
      - "5800:3001"  # HTTPS web interface
    shm_size: "1gb"
    restart: unless-stopped
