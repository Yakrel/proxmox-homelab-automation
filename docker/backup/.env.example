# Backup Stack (Backrest) Environment Variables
# This file shows required variables - actual values are in encrypted .env.enc

# === SYSTEM CONFIGURATION ===
TZ=Europe/Istanbul

# === BACKREST AUTHENTICATION ===
# Web UI login credentials
BACKREST_AUTH_USERNAME=your-username-here
# Plain text password for web UI login
BACKREST_AUTH_PASSWORD=your-secure-password-here
# Bcrypt hash of password (generate with: echo 'password' | docker run --rm -i garethgeorge/backrest:latest bcrypt-hash)
# IMPORTANT: Escape $ characters with another $ in .env file: $$2b$$12$$...
BACKREST_AUTH_PASSWORD_BCRYPT=$$2b$$12$$your-bcrypt-hash-here

# === RESTIC REPOSITORY ===
# Repository encryption password (WARNING: Cannot be changed after first use!)
BACKREST_REPO_PASSWORD=your-repo-password

# === BACKREST INSTANCE ===
BACKREST_INSTANCE_ID=pve01-backrest-server
BACKREST_REPO_ID=pve01-repo
BACKREST_REPO_GUID=your-repo-guid-here

# === SYNC IDENTITY ===
# These are required for Backrest's internal operation - auto-configured from deployment
# Do not modify these values manually
BACKREST_SYNC_KEY_ID=your-key-id-here
BACKREST_SYNC_PRIVATE_KEY=your-private-key-here
BACKREST_SYNC_PUBLIC_KEY=your-public-key-here

# === GOOGLE DRIVE RCLONE CONFIGURATION (OPTIONAL) ===
# Enables automated cloud backup to Google Drive (15 GB free)
# If not provided, deployment continues without cloud sync
#
# Setup instructions:
# 1. Create OAuth2 credentials at https://console.cloud.google.com/
#    - Enable Google Drive API
#    - Create OAuth client ID (Desktop app)
# 2. Run locally: rclone authorize "drive" "CLIENT_ID" "CLIENT_SECRET"
# 3. Copy the output JSON token below
#
GDRIVE_CLIENT_ID=your-client-id.apps.googleusercontent.com
GDRIVE_CLIENT_SECRET=GOCSPX-your-client-secret
GDRIVE_OAUTH_TOKEN={"access_token":"ya29.xxx","token_type":"Bearer","refresh_token":"1//xxx","expiry":"2025-xx-xxTxx:xx:xx"}
