# Backup Stack (Backrest) Environment Variables
# This file shows required variables - actual values are in encrypted .env.enc

# === SYSTEM CONFIGURATION ===
TZ=Europe/Istanbul

# === BACKREST AUTHENTICATION ===
# Web UI login credentials
BACKREST_AUTH_USERNAME=your-username-here
# Plain text password for web UI login
BACKREST_AUTH_PASSWORD=your-secure-password-here
# Bcrypt hash of password (generate with: echo 'password' | docker run --rm -i garethgeorge/backrest:latest bcrypt-hash)
# IMPORTANT: Escape $ characters with another $ in .env file: $$2b$$12$$...
BACKREST_AUTH_PASSWORD_BCRYPT=$$2b$$12$$your-bcrypt-hash-here

# === RESTIC REPOSITORY ===
# Repository encryption password (WARNING: Cannot be changed after first use!)
BACKREST_REPO_PASSWORD=your-repo-password

# === BACKREST INSTANCE ===
BACKREST_INSTANCE_ID=pve01-backrest-server
BACKREST_REPO_ID=pve01-repo
BACKREST_REPO_GUID=your-repo-guid-here

# === SYNC IDENTITY ===
# These are required for Backrest's internal operation - auto-configured from deployment
# Do not modify these values manually
BACKREST_SYNC_KEY_ID=your-key-id-here
BACKREST_SYNC_PRIVATE_KEY=your-private-key-here
BACKREST_SYNC_PUBLIC_KEY=your-public-key-here

# === GOOGLE DRIVE RCLONE CONFIGURATION ===
# Automated cloud backup to Google Drive using Service Account
# Service account credentials are stored in encrypted gdrive-service-account.json.enc
#
# Setup instructions:
# 1. Create Service Account at https://console.cloud.google.com/
#    - Navigate to IAM & Admin > Service Accounts
#    - Create new service account (e.g., "rclone-backup")
#    - Download JSON key file
# 2. Enable Google Drive API in APIs & Services > Library
# 3. Share your Google Drive folder with the service account email
#    - Example: rclone-backup@project-id.iam.gserviceaccount.com
#    - Grant "Editor" permission
# 4. Encrypt the JSON key and add to repo as config/gdrive-service-account.json.enc
#
# No configuration needed in .env - service account is configured via deployment script
